<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="design">

	<select id="selectDesignById" parameterType="string" resultType="com.ctk.sinlimcon.vo.DesignVo">
		select
		*
		from design
		where userid=#{userId}
		order by lastupdatetime;
	</select>

	<select id="selectDesignList" resultType="com.ctk.sinlimcon.vo.DesignVo">
		select
		*
		from design
		order by lastupdatetime;
	</select>
	
	<insert id="insertDesign" parameterType="Design">
		insert into design values(#{designid},#{designname},#{userid},now(),now(),#{price},#{summary})
	</insert>
	
	<delete id="deleteDesign" parameterType="string">
		delete from design where
		designid = #{designid}
	</delete>
	
	<select id="getDesign"  parameterType="string" resultType="Design">
		select
		*
		from design
		where 
		designid = #{designid}
	</select>
	
	<update id="updateDesign" parameterType="Design">
		update design 
		set
		designname = #{designname},
		userid = #{userid},
		lastupdatetime=now(),
		price=#{price},
		summary=#{summary}
		where designid = #{designid}
	</update>

</mapper>
